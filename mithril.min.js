(function(){function B(a,d,e,g,f,p){return{tag:a,key:d,attrs:e,children:g,text:f,dom:p,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}function D(a){var d=arguments[1],e=2;if(null==a||"string"!==typeof a&&"function"!==typeof a&&"function"!==typeof a.view)throw Error("The selector must be either a string or a component.");if("string"===typeof a){var g;if(!(g=M[a])){var f="div";for(var p=[],k={};g=P.exec(a);){var q=g[1],m=g[2];""===q&&""!==m?f=m:"#"===q?k.id=m:"."===
q?p.push(m):"["===g[3][0]&&((q=g[6])&&(q=q.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===g[4]?p.push(q):k[g[4]]=""===q?q:q||!0)}0<p.length&&(k.className=p.join(" "));g=M[a]={tag:f,attrs:k}}}if(null==d)d={};else if("object"!==typeof d||null!=d.tag||Array.isArray(d))d={},e=1;if(arguments.length===e+1)f=arguments[e],Array.isArray(f)||(f=[f]);else for(f=[];e<arguments.length;)f.push(arguments[e++]);e=B.normalizeChildren(f);if("string"===typeof a){f=!1;var l,t;p=d.className||d["class"];for(var b in g.attrs)N.call(g.attrs,
b)&&(d[b]=g.attrs[b]);void 0!==p&&(void 0!==d["class"]&&(d["class"]=void 0,d.className=p),null!=g.attrs.className&&(d.className=g.attrs.className+" "+p));for(b in d)if(N.call(d,b)&&"key"!==b){f=!0;break}Array.isArray(e)&&1===e.length&&null!=e[0]&&"#"===e[0].tag?t=e[0].children:l=e;return B(g.tag,d.key,f?d:void 0,l,t)}return B(a,d.key,d,e)}function Q(a){var d=0,e=null,g="function"===typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var f=Date.now();0===d||16<=f-d?(d=f,
a()):null===e&&(e=g(function(){e=null;a();d=Date.now()},16-(f-d)))}}B.normalize=function(a){return Array.isArray(a)?B("[",void 0,void 0,B.normalizeChildren(a),void 0,void 0):null!=a&&"object"!==typeof a?B("#",void 0,void 0,!1===a?"":a,void 0,void 0):a};B.normalizeChildren=function(a){for(var d=0;d<a.length;d++)a[d]=B.normalize(a[d]);return a};var P=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,M={},N={}.hasOwnProperty;D.trust=function(a){null==a&&(a="");return B("<",
void 0,void 0,a,void 0,void 0)};D.fragment=function(a,d){return B("[",a.key,a,B.normalizeChildren(d),void 0,void 0)};var y=function(a){function d(a,b){return function E(d){var k;try{if(!b||null==d||"object"!==typeof d&&"function"!==typeof d||"function"!==typeof(k=d.then))l(function(){b||0!==a.length||console.error("Possible unhandled promise rejection:",d);for(var e=0;e<a.length;e++)a[e](d);f.length=0;p.length=0;m.state=b;m.retry=function(){E(d)}});else{if(d===g)throw new TypeError("Promise can't be resolved w/ itself");
e(k.bind(d))}}catch(R){q(R)}}}function e(a){function b(b){return function(a){0<d++||b(a)}}var d=0,e=b(q);try{a(b(k),e)}catch(E){e(E)}}if(!(this instanceof y))throw Error("Promise must be called with `new`");if("function"!==typeof a)throw new TypeError("executor must be a function");var g=this,f=[],p=[],k=d(f,!0),q=d(p,!1),m=g._instance={resolvers:f,rejectors:p},l="function"===typeof setImmediate?setImmediate:setTimeout;e(a)};y.prototype.then=function(a,d){function e(a,d,e,k){d.push(function(b){if("function"!==
typeof a)e(b);else try{f(a(b))}catch(v){p&&p(v)}});"function"===typeof g.retry&&k===g.state&&g.retry()}var g=this._instance,f,p,k=new y(function(a,d){f=a;p=d});e(a,g.resolvers,f,!0);e(d,g.rejectors,p,!1);return k};y.prototype["catch"]=function(a){return this.then(null,a)};y.resolve=function(a){return a instanceof y?a:new y(function(d){d(a)})};y.reject=function(a){return new y(function(d,e){e(a)})};y.all=function(a){return new y(function(d,e){var g=a.length,f=0,p=[];if(0===a.length)d([]);else for(var k=
0;k<a.length;k++)(function(k){function m(a){f++;p[k]=a;f===g&&d(p)}null==a[k]||"object"!==typeof a[k]&&"function"!==typeof a[k]||"function"!==typeof a[k].then?m(a[k]):a[k].then(m,e)})(k)})};y.race=function(a){return new y(function(d,e){for(var g=0;g<a.length;g++)a[g].then(d,e)})};"undefined"!==typeof window?("undefined"===typeof window.Promise&&(window.Promise=y),y=window.Promise):"undefined"!==typeof global&&("undefined"===typeof global.Promise&&(global.Promise=y),y=global.Promise);var G=function(a){function d(a,
g){if(Array.isArray(g))for(var f=0;f<g.length;f++)d(a+"["+f+"]",g[f]);else if("[object Object]"===Object.prototype.toString.call(g))for(f in g)d(a+"["+f+"]",g[f]);else e.push(encodeURIComponent(a)+(null!=g&&""!==g?"="+encodeURIComponent(g):""))}if("[object Object]"!==Object.prototype.toString.call(a))return"";var e=[],g;for(g in a)d(g,a[g]);return e.join("&")},S=/^file:\/\//i,K=function(a,d){function e(){function b(){0===--a&&"function"===typeof t&&t()}var a=0;return function x(d){var e=d.then;d.then=
function(){a++;var f=e.apply(d,arguments);f.then(b,function(d){b();if(0===a)throw d;});return x(f)};return d}}function g(b,a){if("string"===typeof b){var d=b;b=a||{};null==b.url&&(b.url=d)}return b}function f(b,a){if(null==a)return b;for(var d=b.match(/:[^\/]+/gi)||[],e=0;e<d.length;e++){var f=d[e].slice(1);null!=a[f]&&(b=b.replace(d[e],a[f]))}return b}function p(b,a){var d=G(a);if(""!==d){var e=0>b.indexOf("?")?"?":"&";b+=e+d}return b}function k(b){try{return""!==b?JSON.parse(b):null}catch(v){throw Error(b);
}}function q(b){return b.responseText}function m(b,a){if("function"===typeof b)if(Array.isArray(a))for(var d=0;d<a.length;d++)a[d]=new b(a[d]);else return new b(a);return a}var l=0,t;return{request:function(b,l){var t=e();b=g(b,l);var v=new d(function(d,e){null==b.method&&(b.method="GET");b.method=b.method.toUpperCase();var g="GET"===b.method||"TRACE"===b.method?!1:"boolean"===typeof b.useBody?b.useBody:!0;"function"!==typeof b.serialize&&(b.serialize="undefined"!==typeof FormData&&b.data instanceof
FormData?function(b){return b}:JSON.stringify);"function"!==typeof b.deserialize&&(b.deserialize=k);"function"!==typeof b.extract&&(b.extract=q);b.url=f(b.url,b.data);g?b.data=b.serialize(b.data):b.url=p(b.url,b.data);var l=new a.XMLHttpRequest,t=!1,v=l.abort;l.abort=function(){t=!0;v.call(l)};l.open(b.method,b.url,"boolean"===typeof b.async?b.async:!0,"string"===typeof b.user?b.user:void 0,"string"===typeof b.password?b.password:void 0);b.serialize!==JSON.stringify||!g||b.headers&&b.headers.hasOwnProperty("Content-Type")||
l.setRequestHeader("Content-Type","application/json; charset=utf-8");b.deserialize!==k||b.headers&&b.headers.hasOwnProperty("Accept")||l.setRequestHeader("Accept","application/json, text/*");b.withCredentials&&(l.withCredentials=b.withCredentials);for(var x in b.headers)({}).hasOwnProperty.call(b.headers,x)&&l.setRequestHeader(x,b.headers[x]);"function"===typeof b.config&&(l=b.config(l,b)||l);l.onreadystatechange=function(){if(!t&&4===l.readyState)try{var a=b.extract!==q?b.extract(l,b):b.deserialize(b.extract(l,
b));if(200<=l.status&&300>l.status||304===l.status||S.test(b.url))d(m(b.type,a));else{var h=Error(l.responseText),c;for(c in a)h[c]=a[c];e(h)}}catch(n){e(n)}};g&&null!=b.data?l.send(b.data):l.send()});return!0===b.background?v:t(v)},jsonp:function(b,k){var t=e();b=g(b,k);var q=new d(function(d,e){var g=b.callbackName||"_mithril_"+Math.round(1E16*Math.random())+"_"+l++,k=a.document.createElement("script");a[g]=function(e){k.parentNode.removeChild(k);d(m(b.type,e));delete a[g]};k.onerror=function(){k.parentNode.removeChild(k);
e(Error("JSONP request failed"));delete a[g]};null==b.data&&(b.data={});b.url=f(b.url,b.data);b.data[b.callbackKey||"callback"]=g;k.src=p(b.url,b.data);a.document.documentElement.appendChild(k)});return!0===b.background?q:t(q)},setCompletionCallback:function(b){t=b}}}(window,y),O=function(a){function d(h,c,n,b,a,d,g){for(;n<b;n++){var u=c[n];null!=u&&e(h,u,a,g,d)}}function e(h,c,n,b,a){var u=c.tag;if("string"===typeof u)switch(c.state={},null!=c.attrs&&D(c.attrs,c,n),u){case "#":return c.dom=A.createTextNode(c.children),
l(h,c.dom,a),c.dom;case "<":return g(h,c,a);case "[":var k=A.createDocumentFragment();null!=c.children&&(u=c.children,d(k,u,0,u.length,n,null,b));c.dom=k.firstChild;c.domSize=k.childNodes.length;l(h,k,a);return k;default:var m=c.tag,r=(u=c.attrs)&&u.is;m=(b=c.attrs&&c.attrs.xmlns||G[c.tag]||b)?r?A.createElementNS(b,m,{is:r}):A.createElementNS(b,m):r?A.createElement(m,{is:r}):A.createElement(m);c.dom=m;if(null!=u)for(k in r=b,u)E(c,k,null,u[k],r);l(h,m,a);null!=c.attrs&&null!=c.attrs.contenteditable?
t(c):(null!=c.text&&(""!==c.text?m.textContent=c.text:c.children=[B("#",void 0,void 0,c.text,void 0,void 0)]),null!=c.children&&(h=c.children,d(m,h,0,h.length,n,null,b),h=c.attrs,"select"===c.tag&&null!=h&&("value"in h&&E(c,"value",null,h.value,void 0),"selectedIndex"in h&&E(c,"selectedIndex",null,h.selectedIndex,void 0))));return m}else return f(c,n),null!=c.instance?(n=e(h,c.instance,n,b,a),c.dom=c.instance.dom,c.domSize=null!=c.dom?c.instance.domSize:0,l(h,n,a),c=n):(c.domSize=0,c=J),c}function g(h,
c,b){var n={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(c.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div";n=A.createElement(n);n.innerHTML=c.children;c.dom=n.firstChild;c.domSize=n.childNodes.length;c=A.createDocumentFragment();for(var a;a=n.firstChild;)c.appendChild(a);l(h,c,b);return c}function f(h,c){if("function"===typeof h.tag.view){h.state=Object.create(h.tag);var n=h.state.view;if(null!=n.$$reentrantLock$$)return J;
n.$$reentrantLock$$=!0}else{h.state=void 0;n=h.tag;if(null!=n.$$reentrantLock$$)return J;n.$$reentrantLock$$=!0;h.state=null!=h.tag.prototype&&"function"===typeof h.tag.prototype.view?new h.tag(h):h.tag(h)}h._state=h.state;null!=h.attrs&&D(h.attrs,h,c);D(h._state,h,c);h.instance=B.normalize(h._state.view.call(h.state,h));if(h.instance===h)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function p(h,c,n,a,g,f,p){if(c!==n&&(null!=c||null!=n))if(null==c)d(h,
n,0,n.length,g,f,p);else if(null==n)b(c,0,c.length,n);else{if(c.length===n.length){for(var u=!1,r=0;r<n.length;r++)if(null!=n[r]&&null!=c[r]){u=null==n[r].key&&null==c[r].key;break}if(u){for(r=0;r<c.length;r++)c[r]!==n[r]&&(null==c[r]&&null!=n[r]?e(h,n[r],g,p,m(c,r+1,f)):null==n[r]?b(c,r,r+1,n):k(h,c[r],n[r],g,m(c,r+1,f),a,p));return}}if(!a)a:{if(null!=c.pool&&Math.abs(c.pool.length-n.length)<=Math.abs(c.length-n.length)&&(a=n[0]&&n[0].children&&n[0].children.length||0,Math.abs((c.pool[0]&&c.pool[0].children&&
c.pool[0].children.length||0)-a)<=Math.abs((c[0]&&c[0].children&&c[0].children.length||0)-a))){a=!0;break a}a=!1}if(a){var t=c.pool;c=c.concat(c.pool)}r=u=0;for(var v=c.length-1,z=n.length-1,H;v>=u&&z>=r;){var w=c[u],x=n[r];if(w!==x||a)if(null==w)u++;else if(null==x)r++;else if(w.key===x.key){var C=null!=t&&u>=c.length-t.length||null==t&&a;u++;r++;k(h,w,x,g,m(c,u,f),C,p);a&&w.tag===x.tag&&l(h,q(w),f)}else if(w=c[v],w!==x||a)if(null==w)v--;else if(null==x)r++;else if(w.key===x.key)C=null!=t&&v>=c.length-
t.length||null==t&&a,k(h,w,x,g,m(c,v+1,f),C,p),(a||r<z)&&l(h,q(w),m(c,u,f)),v--,r++;else break;else v--,r++;else u++,r++}for(;v>=u&&z>=r;){w=c[v];x=n[z];if(w!==x||a)if(null==w)v--;else{if(null!=x)if(w.key===x.key)C=null!=t&&v>=c.length-t.length||null==t&&a,k(h,w,x,g,m(c,v+1,f),C,p),a&&w.tag===x.tag&&l(h,q(w),f),null!=w.dom&&(f=w.dom),v--;else{if(!H){H=c;w=v;C={};var A;for(A=0;A<w;A++){var y=H[A];null!=y&&(y=y.key,null!=y&&(C[y]=A))}H=C}null!=x&&(w=H[x.key],null!=w?(C=c[w],k(h,C,x,g,m(c,v+1,f),a,p),
l(h,q(C),f),c[w].skip=!0,null!=C.dom&&(f=C.dom)):f=e(h,x,g,p,f))}z--}else v--,z--;if(z<r)break}d(h,n,r,z+1,g,f,p);b(c,u,v+1,n)}}function k(h,c,a,b,d,m,l){var n=c.tag;if(n===a.tag){a.state=c.state;a._state=c._state;a.events=c.events;var u;if(u=!m){var w,C;null!=a.attrs&&"function"===typeof a.attrs.onbeforeupdate&&(w=a.attrs.onbeforeupdate.call(a.state,a,c));"string"!==typeof a.tag&&"function"===typeof a._state.onbeforeupdate&&(C=a._state.onbeforeupdate.call(a.state,a,c));void 0===w&&void 0===C||w||
C?u=!1:(a.dom=c.dom,a.domSize=c.domSize,a.instance=c.instance,u=!0)}if(!u)if("string"===typeof n)switch(null!=a.attrs&&(m?(a.state={},D(a.attrs,a,b)):I(a.attrs,a,b)),n){case "#":c.children.toString()!==a.children.toString()&&(c.dom.nodeValue=a.children);a.dom=c.dom;break;case "<":c.children!==a.children?(q(c),g(h,a,d)):(a.dom=c.dom,a.domSize=c.domSize);break;case "[":p(h,c.children,a.children,m,b,d,l);c=0;b=a.children;a.dom=null;if(null!=b){for(m=0;m<b.length;m++){var z=b[m];null!=z&&null!=z.dom&&
(null==a.dom&&(a.dom=z.dom),c+=z.domSize||1)}1!==c&&(a.domSize=c)}break;default:h=a.dom=c.dom;l=a.attrs&&a.attrs.xmlns||G[a.tag]||l;"textarea"===a.tag&&(null==a.attrs&&(a.attrs={}),null!=a.text&&(a.attrs.value=a.text,a.text=void 0));d=c.attrs;n=a.attrs;u=l;if(null!=n)for(z in n)E(a,z,d&&d[z],n[z],u);if(null!=d)for(z in d)null!=n&&z in n||("className"===z&&(z="class"),"o"!==z[0]||"n"!==z[1]||x(z)?"key"!==z&&a.dom.removeAttribute(z):y(a,z,void 0));null!=a.attrs&&null!=a.attrs.contenteditable?t(a):null!=
c.text&&null!=a.text&&""!==a.text?c.text.toString()!==a.text.toString()&&(c.dom.firstChild.nodeValue=a.text):(null!=c.text&&(c.children=[B("#",void 0,void 0,c.text,void 0,c.dom.firstChild)]),null!=a.text&&(a.children=[B("#",void 0,void 0,a.text,void 0,void 0)]),p(h,c.children,a.children,m,b,null,l))}else{if(m)f(a,b);else{a.instance=B.normalize(a._state.view.call(a.state,a));if(a.instance===a)throw Error("A view cannot return the vnode it received as argument");null!=a.attrs&&I(a.attrs,a,b);I(a._state,
a,b)}null!=a.instance?(null==c.instance?e(h,a.instance,b,l,d):k(h,c.instance,a.instance,b,d,m,l),a.dom=a.instance.dom,a.domSize=a.instance.domSize):null!=c.instance?(v(c.instance,null),a.dom=void 0,a.domSize=0):(a.dom=c.dom,a.domSize=c.domSize)}}else v(c,null),e(h,a,b,l,d)}function q(a){var c=a.domSize;if(null!=c||null==a.dom){var b=A.createDocumentFragment();if(0<c){for(a=a.dom;--c;)b.appendChild(a.nextSibling);b.insertBefore(a,b.firstChild)}return b}return a.dom}function m(a,c,b){for(;c<a.length;c++)if(null!=
a[c]&&null!=a[c].dom)return a[c].dom;return b}function l(a,c,b){b&&b.parentNode?a.insertBefore(c,b):a.appendChild(c)}function t(a){var c=a.children;if(null!=c&&1===c.length&&"<"===c[0].tag)c=c[0].children,a.dom.innerHTML!==c&&(a.dom.innerHTML=c);else if(null!=a.text||null!=c&&0!==c.length)throw Error("Child node of a contenteditable must be trusted");}function b(a,c,b,d){for(;c<b;c++){var h=a[c];null!=h&&(h.skip?h.skip=!1:v(h,d))}}function v(a,c){function b(){if(++d===h&&(C(a),a.dom)){var b=a.domSize||
1;if(1<b)for(var f=a.dom;--b;){var g=f.nextSibling,e=g.parentNode;null!=e&&e.removeChild(g)}b=a.dom;f=b.parentNode;null!=f&&f.removeChild(b);if(b=null!=c&&null==a.domSize)b=a.attrs,b=!(null!=b&&(b.oncreate||b.onupdate||b.onbeforeremove||b.onremove));b&&"string"===typeof a.tag&&(c.pool?c.pool.push(a):c.pool=[a])}}var h=1,d=0;if(a.attrs&&"function"===typeof a.attrs.onbeforeremove){var f=a.attrs.onbeforeremove.call(a.state,a);null!=f&&"function"===typeof f.then&&(h++,f.then(b,b))}"string"!==typeof a.tag&&
"function"===typeof a._state.onbeforeremove&&(f=a._state.onbeforeremove.call(a.state,a),null!=f&&"function"===typeof f.then&&(h++,f.then(b,b)));b()}function C(a){a.attrs&&"function"===typeof a.attrs.onremove&&a.attrs.onremove.call(a.state,a);"string"!==typeof a.tag&&"function"===typeof a._state.onremove&&a._state.onremove.call(a.state,a);if(null!=a.instance)C(a.instance);else if(a=a.children,Array.isArray(a))for(var c=0;c<a.length;c++){var b=a[c];null!=b&&C(b)}}function E(a,c,b,d,f){var h=a.dom;if("key"!==
c&&"is"!==c&&(b!==d||"value"===c||"checked"===c||"selectedIndex"===c||"selected"===c&&a.dom===A.activeElement||"object"===typeof d)&&"undefined"!==typeof d&&!x(c)){var g=c.indexOf(":");if(-1<g&&"xlink"===c.substr(0,g))h.setAttributeNS("http://www.w3.org/1999/xlink",c.slice(g+1),d);else if("o"===c[0]&&"n"===c[1]&&"function"===typeof d)y(a,c,d);else if("style"===c)if(a=b,a===d&&(h.style.cssText="",a=null),null==d)h.style.cssText="";else if("string"===typeof d)h.style.cssText=d;else{"string"===typeof a&&
(h.style.cssText="");for(var e in d)h.style[e]=d[e];if(null!=a&&"string"!==typeof a)for(e in a)e in d||(h.style[e]="")}else if(c in h&&"href"!==c&&"list"!==c&&"form"!==c&&"width"!==c&&"height"!==c&&void 0===f&&!(a.attrs.is||-1<a.tag.indexOf("-"))){if("value"===c){e=""+d;if(("input"===a.tag||"textarea"===a.tag)&&a.dom.value===e&&a.dom===A.activeElement)return;if("select"===a.tag)if(null===d){if(-1===a.dom.selectedIndex&&a.dom===A.activeElement)return}else if(null!==b&&a.dom.value===e&&a.dom===A.activeElement)return;
if("option"===a.tag&&null!=b&&a.dom.value===e)return}"input"===a.tag&&"type"===c?h.setAttribute(c,d):h[c]=d}else"boolean"===typeof d?d?h.setAttribute(c,""):h.removeAttribute(c):h.setAttribute("className"===c?"class":c,d)}}function x(a){return"oninit"===a||"oncreate"===a||"onupdate"===a||"onremove"===a||"onbeforeremove"===a||"onbeforeupdate"===a}function y(a,c,b){var d=a.dom,f="function"!==typeof F?b:function(a){var c=b.call(d,a);F.call(d,a);return c};if(c in d)d[c]="function"===typeof b?f:null;else{var h=
c.slice(2);void 0===a.events&&(a.events={});a.events[c]!==f&&(null!=a.events[c]&&d.removeEventListener(h,a.events[c],!1),"function"===typeof b&&(a.events[c]=f,d.addEventListener(h,a.events[c],!1)))}}function D(a,b,d){"function"===typeof a.oninit&&a.oninit.call(b.state,b);"function"===typeof a.oncreate&&d.push(a.oncreate.bind(b.state,b))}function I(a,b,d){"function"===typeof a.onupdate&&d.push(a.onupdate.bind(b.state,b))}var A=a.document,J=A.createDocumentFragment(),G={svg:"http://www.w3.org/2000/svg",
math:"http://www.w3.org/1998/Math/MathML"},F;return{render:function(a,b){if(!a)throw Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var c=[],d=A.activeElement,f=a.namespaceURI;null==a.vnodes&&(a.textContent="");Array.isArray(b)||(b=[b]);p(a,a.vnodes,B.normalizeChildren(b),!1,c,null,"http://www.w3.org/1999/xhtml"===f?void 0:f);a.vnodes=b;for(f=0;f<c.length;f++)c[f]();null!=d&&A.activeElement!==d&&d.focus()},setEventCallback:function(a){return F=a}}},F=function(a){function d(a){a=
g.indexOf(a);-1<a&&g.splice(a,2)}function e(){for(var a=1;a<g.length;a+=2)g[a]()}a=O(a);a.setEventCallback(function(a){!1===a.redraw?a.redraw=void 0:e()});var g=[];return{subscribe:function(a,e){d(a);g.push(a,Q(e))},unsubscribe:d,redraw:e,render:a.render}}(window);K.setCompletionCallback(F.redraw);D.mount=function(a){return function(d,e){if(null===e)a.render(d,[]),a.unsubscribe(d);else{if(null==e.view&&"function"!==typeof e)throw Error("m.mount(element, component) expects a component, not a vnode");
a.subscribe(d,function(){a.render(d,B(e))});a.redraw()}}}(F);var T=y,L=function(a){if(""===a||null==a)return{};"?"===a.charAt(0)&&(a=a.slice(1));a=a.split("&");for(var d={},e={},g=0;g<a.length;g++){var f=a[g].split("="),p=decodeURIComponent(f[0]);f=2===f.length?decodeURIComponent(f[1]):"";"true"===f?f=!0:"false"===f&&(f=!1);var k=p.split(/\]\[?|\[/),q=d;-1<p.indexOf("[")&&k.pop();for(var m=0;m<k.length;m++){p=k[m];var l=k[m+1];l=""==l||!isNaN(parseInt(l,10));var t=m===k.length-1;""===p&&(p=k.slice(0,
m).join(),null==e[p]&&(e[p]=0),p=e[p]++);null==q[p]&&(q[p]=t?f:l?[]:{});q=q[p]}}return d},U=function(a){function d(d){var f=a.location[d].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);"pathname"===d&&"/"!==f[0]&&(f="/"+f);return f}function e(a){return function(){null==k&&(k=p(function(){k=null;a()}))}}function g(a,d,f){var b=a.indexOf("?"),e=a.indexOf("#"),g=-1<b?b:-1<e?e:a.length;if(-1<b){b=L(a.slice(b+1,-1<e?e:a.length));for(var k in b)d[k]=b[k]}if(-1<e)for(k in d=L(a.slice(e+1)),d)f[k]=
d[k];return a.slice(0,g)}var f="function"===typeof a.history.pushState,p="function"===typeof setImmediate?setImmediate:setTimeout,k,q={prefix:"#!",getPath:function(){switch(q.prefix.charAt(0)){case "#":return d("hash").slice(q.prefix.length);case "?":return d("search").slice(q.prefix.length)+d("hash");default:return d("pathname").slice(q.prefix.length)+d("search")+d("hash")}},setPath:function(d,e,k){var b={},l={};d=g(d,b,l);if(null!=e){for(var m in e)b[m]=e[m];d=d.replace(/:([^\/]+)/g,function(a,
d){delete b[d];return e[d]})}(m=G(b))&&(d+="?"+m);(l=G(l))&&(d+="#"+l);f?(l=k?k.state:null,m=k?k.title:null,a.onpopstate(),k&&k.replace?a.history.replaceState(l,m,q.prefix+d):a.history.pushState(l,m,q.prefix+d)):a.location.href=q.prefix+d},defineRoutes:function(d,k,p){function b(){var b=q.getPath(),e={},f=g(b,e,e),l=a.history.state;if(null!=l)for(var m in l)e[m]=l[m];for(var t in d)if(l=new RegExp("^"+t.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$"),l.test(f)){f.replace(l,
function(){for(var a=t.match(/:[^\/]+/g)||[],f=[].slice.call(arguments,1,-2),g=0;g<a.length;g++)e[a[g].replace(/:|\./g,"")]=decodeURIComponent(f[g]);k(d[t],e,b,t)});return}p(b,e)}f?a.onpopstate=e(b):"#"===q.prefix.charAt(0)&&(a.onhashchange=b);b()}};return q};D.route=function(a,d){var e=U(a),g=function(a){return a},f,p,k,q,m,l=function(a,b,l){if(null==a)throw Error("Ensure the DOM element that was passed to `m.route` is not undefined");var t=function(){null!=f&&d.render(a,f(B(p,k.key,k)))},v=function(a){if(a!==
b)e.setPath(b,null,{replace:!0});else throw Error("Could not resolve default route "+b);};e.defineRoutes(l,function(a,b,d){var e=m=function(a,l){e===m&&(p=null==l||"function"!==typeof l.view&&"function"!==typeof l?"div":l,k=b,q=d,m=null,f=(a.render||g).bind(a),t())};a.view||"function"===typeof a?e({},a):a.onmatch?T.resolve(a.onmatch(b,d)).then(function(b){e(a,b)},v):e(a,"div")},v);d.subscribe(a,t)};l.set=function(a,b,d){null!=m&&(d=d||{},d.replace=!0);m=null;e.setPath(a,b,d)};l.get=function(){return q};
l.prefix=function(a){e.prefix=a};l.link=function(a){a.dom.setAttribute("href",e.prefix+a.attrs.href);a.dom.onclick=function(a){a.ctrlKey||a.metaKey||a.shiftKey||2===a.which||(a.preventDefault(),a.redraw=!1,a=this.getAttribute("href"),0===a.indexOf(e.prefix)&&(a=a.slice(e.prefix.length)),l.set(a,void 0,void 0))}};l.param=function(a){return"undefined"!==typeof k&&"undefined"!==typeof a?k[a]:k};return l}(window,F);D.withAttr=function(a,d,e){return function(g){d.call(e||this,a in g.currentTarget?g.currentTarget[a]:
g.currentTarget.getAttribute(a))}};var V=O(window);D.render=V.render;D.redraw=F.redraw;D.request=K.request;D.jsonp=K.jsonp;D.parseQueryString=L;D.buildQueryString=G;D.version="1.1.5";D.vnode=B;"undefined"!==typeof module?module.exports=D:window.m=D})();